<!DOCTYPE html>
<html>
<head>
	<title>Onsetsu Prototype</title>
	<style type="text/css">
		html,body {
			background-color: #000;
			color: #fff;
			font-family: helvetica, arial, sans-serif;
			margin: 0;
			padding: 0;
			font-size: 12pt;
		}
		
		#canvas {
			position: absolute;
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;
			margin: auto;
			border: 1px solid #555;
		}
	</style>

	<script src="es6/system.src.js" type="text/javascript" charset="utf-8"></script>
	<script>
		System.config({
			// or 'traceur' or 'typescript'
			transpiler: 'babel',
			// or traceurOptions or typescriptOptions
			babelOptions: {
				//modules: "amd"
			},
			map: {
				babel: 'es6/browser.js'
			}
		});
	</script>

    <script type="text/javascript" src="external/underscore.js"></script>
    <script type="text/javascript" src="external/bluebird.js"></script>
    <script type="text/javascript" src="external/peer.js"></script>
	<script type="text/javascript" src="external/dat.gui.js"></script>
	<script type="text/javascript" src="external/combinatorics.js"></script>
	<script type="text/javascript" src="external/firebase.js"></script>
	<script type="text/javascript" src="external/uuid.js"></script>

	<script type="text/javascript" src="lib/impact/impact.full.js"></script>

    <script type="text/javascript" src="lib/game/databindings/databindings.js"></script>

	<script>
		window.game = undefined;
		window.env = {};
		window.GUI = {};
		window.isHost = undefined;
	</script>

	<script type="text/javascript" src="lib/engine/engine.js"></script>
    <script type="text/javascript" src="lib/engine/enginesyllable.js"></script>
    <script type="text/javascript" src="lib/engine/enginespell.js"></script>
    <script type="text/javascript" src="lib/engine/enginebattlefield.js"></script>
    <script type="text/javascript" src="lib/engine/enginetimeline.js"></script>
	<script type="text/javascript" src="lib/engine/engineutilities.js"></script>

	<script>
		Promise.resolve()
				.then(() => new Promise(resolve => ig.module(uuid.v4()).requires(
				'impact.game',
				'impact.font',
		'impact.entity').defines(resolve)))
		.then(() => System.import("lib/engine/engineeffect.js"))
		.then(() => System.import("lib/setup/setup.js"))
		.then(() => System.import("test.js"))
		.then(() => System.import("lib/game/databindings/testdatabindings.js"))
		.then(() => new Promise(resolve => ig.module(uuid.v4()).requires('game.impactimports').defines(resolve)))
		.then(() => System.import('lib/game/impactextension.js'))
		.then(() => System.import('main.js'));
	</script>
</head>
<body>
	<canvas id="canvas"></canvas>
</body>
</html>
